{% extends "base.html" %}

{% block title %}Passwords{% endblock %}
{% block styles %}
    <link rel="stylesheet" href="/static/css/passwords/pagination.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
{% endblock %}

{% block scripts %}
    <script src="/static/js/passwords/pagination.js"></script>
{% endblock %}

{% block tabs %}
    <li class="current"><a href="/passwords">Passwords</a></li>
    <li><a href="/me">Settings</a></li>
    <li><a href="/logout">Logout</a></li>
{% endblock %}

{% block content %}
    <h1>Create and manage passwords</h1>
    <p><b>Secure your passwords</b> with an AES encryption and access them from <b>anywhere</b> in the world.</p>
    <label for="search"></label>
    <div class="search-container">
        <input class="input-field" type="text" id="search" value="{{ query }}">
        <button id="btn_search" class="btn icon-btn" onclick="searchPasswords()"><i
                class="material-icons">search</i></button>
        <button id="btn_add" class="btn icon-btn" onclick="window.location.assign('/passwords/add')"><i
                class="material-icons">add</i></button>
    </div>
    <table class="password-table">

        {% if passwords %}
            <caption><h2>Search Results</h2></caption>
            <thead>
        <tr>
            <th>Name</th>
            <th>Username</th>
            <th>URL</th>
            <th></th>
        </tr>
        </thead>
        {% else %}
            <caption><h2>No results found</h2></caption>
        {% endif %}

        <tbody>
        {% for password in passwords %}
            <tr onclick="window.location='/passwords/{{ password.id }}'">
                <td><b><a>{{ password.title }}</a></b></td>
                <td><b>{{ password.username }}</b></td>
                <td><a href="{{ password.url }}" target="_blank">{{ password.url }}</a></td>
                <td class="arrow"><i class="material-icons">arrow_forward</i></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}